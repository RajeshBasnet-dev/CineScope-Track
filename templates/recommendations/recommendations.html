{% extends 'base.html' %}

{% block title %}Recommendations - CineScope Tracker{% endblock %}

{% block content %}
<div class="max-w-screen-xl mx-auto">
    <div class="flex justify-between items-center mb-8">
        <h1 class="text-3xl font-bold text-white-text">ðŸ’¡ What to Watch Next</h1>
        <button id="refresh-recommendations" class="px-4 py-2 bg-dark-accent hover:bg-dark-card text-white-text rounded-lg font-medium transition duration-300 border border-dark-accent flex items-center">
            <i class="fas fa-sync-alt mr-2"></i> Refresh
        </button>
    </div>
    
    <p class="text-light-text mb-8">Personalized picks based on your viewing history</p>
    
    <!-- Because You Loved -->
    <div class="bg-dark-card rounded-2xl p-6 mb-8 shadow-lg">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-white-text">ðŸŽ¯ Because You Loved "Inception"</h2>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
            <!-- Recommendation 1 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Shutter Island</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.2</span>
                    </div>
                    <div class="text-xs text-electric-blue mt-1">97% Match</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="11324" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Recommendation 2 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Memento</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.4</span>
                    </div>
                    <div class="text-xs text-electric-blue mt-1">95% Match</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="77" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Recommendation 3 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Prestige</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.5</span>
                    </div>
                    <div class="text-xs text-electric-blue mt-1">94% Match</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="1124" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Recommendation 4 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Tenet</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">7.3</span>
                    </div>
                    <div class="text-xs text-electric-blue mt-1">89% Match</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="577922" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Trending in Sci-Fi -->
    <div class="bg-dark-card rounded-2xl p-6 mb-8 shadow-lg">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-white-text">ðŸ”¥ Trending in Sci-Fi (Your Favorite Genre)</h2>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
            <!-- Trending Item 1 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Dune</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.0</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="438631" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Trending Item 2 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Blade Runner 2049</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.0</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="335984" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Trending Item 3 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Arrival</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">7.9</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="329865" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Trending Item 4 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Ex Machina</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">7.7</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="264660" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- New Releases -->
    <div class="bg-dark-card rounded-2xl p-6 mb-8 shadow-lg">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-white-text">ðŸ†• New Releases You Might Like</h2>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
            <!-- New Release 1 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Top Gun: Maverick</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.3</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="361743" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- New Release 2 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Spider-Man: No Way Home</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.2</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="634649" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- New Release 3 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Batman</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">7.8</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="414906" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- New Release 4 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Doctor Strange in the Multiverse of Madness</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">6.9</span>
                    </div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="453395" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hidden Gems -->
    <div class="bg-dark-card rounded-2xl p-6 mb-8 shadow-lg">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-white-text">ðŸ’Ž Hidden Gems</h2>
            <p class="text-light-text text-sm">Highly rated but less watched</p>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
            <!-- Hidden Gem 1 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Fall</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">9.1</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">12K views</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="396" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Hidden Gem 2 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">A Ghost Story</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.9</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">8K views</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="396747" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Hidden Gem 3 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">Coherence</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.8</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">15K views</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="248054" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Hidden Gem 4 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Invitation</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">8.7</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">9K views</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="27527" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Complete Your Collection -->
    <div class="bg-dark-card rounded-2xl p-6 shadow-lg">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-white-text">ðŸŽ¬ Complete Your Collection</h2>
            <p class="text-light-text text-sm">Sequels, prequels, and related content</p>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
            <!-- Collection Item 1 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Matrix Reloaded</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">7.2</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">Sequel</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="604" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Collection Item 2 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Matrix Revolutions</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">6.8</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">Sequel</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="605" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Collection Item 3 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">The Matrix Resurrections</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">5.7</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">Sequel</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="624860" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
            
            <!-- Collection Item 4 -->
            <div class="group relative bg-dark-accent rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="aspect-w-2 aspect-h-3">
                    <div class="bg-dark-card border-2 border-dashed rounded-xl w-full h-80 flex items-center justify-center">
                        <i class="fas fa-film text-gray-500 text-4xl"></i>
                    </div>
                </div>
                <div class="absolute inset-0 bg-gradient-to-t from-dark-card to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4">
                    <h3 class="font-semibold text-white-text text-sm truncate">John Wick</h3>
                    <div class="flex items-center mt-1">
                        <i class="fas fa-star text-yellow-400 text-xs mr-1"></i>
                        <span class="text-xs text-light-text">7.4</span>
                    </div>
                    <div class="text-xs text-light-text mt-1">Related</div>
                </div>
                <div class="absolute inset-0 bg-electric-blue/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <button class="add-to-watchlist bg-electric-blue hover:bg-vibrant-teal text-white-text px-3 py-1 rounded-lg font-medium text-xs transition duration-300 flex items-center" 
                            data-content-id="245891" data-content-type="movie">
                        <i class="fas fa-plus mr-1"></i> Add
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('refresh-recommendations').addEventListener('click', function() {
    this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Refreshing...';
    this.disabled = true;
    
    // Simulate API call with reduced delay for faster feedback
    setTimeout(() => {
        this.innerHTML = '<i class="fas fa-sync-alt mr-2"></i> Refresh';
        this.disabled = false;
        // Using a less intrusive notification
        const notification = document.createElement('div');
        notification.className = 'fixed top-4 right-4 bg-green-600 text-white-text px-4 py-2 rounded-lg shadow-lg z-50';
        notification.textContent = 'Recommendations refreshed!';
        document.body.appendChild(notification);
        
        // Auto remove after 1 second
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 1000);
    }, 800); // Reduced from 1500ms to 800ms
});

// Add to watchlist functionality for recommendation items
document.addEventListener('DOMContentLoaded', function() {
    // Add event listeners to all "Add" buttons
    const addButtons = document.querySelectorAll('.add-to-watchlist');
    
    // Optimized event handler function
    const handleAddToWatchlist = function(e) {
        e.preventDefault();
        
        // Check if user is authenticated
        if (!document.querySelector('[name=csrfmiddlewaretoken]')) {
            showFastNotification('Please sign in to add items to your watchlist', 'warning');
            return;
        }
        
        // Get content ID and type from data attributes
        const contentId = this.dataset.contentId;
        const contentType = this.dataset.contentType;
        
        // Store original button content for reset
        const originalHTML = this.innerHTML;
        
        // Show loading state
        this.innerHTML = '<i class="fas fa-spinner fa-spin mr-1"></i>';
        this.disabled = true;
        
        // Send request to add to watchlist
        fetch('{% url "add_to_watchlist" %}', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
            },
            body: JSON.stringify({
                content_id: contentId,
                content_type: contentType,
                status: 'plan_to_watch'
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Faster success feedback
                this.innerHTML = '<i class="fas fa-check mr-1"></i>';
                this.classList.remove('bg-electric-blue', 'hover:bg-vibrant-teal');
                this.classList.add('bg-green-600');
                
                // Faster reset after 1 second
                setTimeout(() => {
                    this.innerHTML = originalHTML;
                    this.classList.remove('bg-green-600');
                    this.classList.add('bg-electric-blue', 'hover:bg-vibrant-teal');
                    this.disabled = false;
                }, 1000);
                
                showFastNotification('Added to watchlist!', 'success');
            } else {
                showFastNotification('Failed: ' + data.message, 'error');
                this.innerHTML = originalHTML;
                this.disabled = false;
            }
        })
        .catch(error => {
            console.error('Error:', error);
            showFastNotification('Network error', 'error');
            this.innerHTML = originalHTML;
            this.disabled = false;
        });
    };
    
    // Attach the optimized event handler
    addButtons.forEach(button => {
        button.addEventListener('click', handleAddToWatchlist);
    });
    
    // Fast notification function
    function showFastNotification(message, type = 'info') {
        // Remove any existing notifications
        const existing = document.querySelector('.fast-notification');
        if (existing) existing.remove();
        
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `fast-notification fixed top-4 right-4 z-50 px-4 py-2 rounded-lg shadow-lg transform transition-all duration-200 ease-in-out`;
        
        // Set styles based on type
        if (type === 'success') {
            notification.classList.add('bg-green-600', 'text-white');
        } else if (type === 'error') {
            notification.classList.add('bg-red-600', 'text-white');
        } else if (type === 'warning') {
            notification.classList.add('bg-yellow-500', 'text-dark-bg');
        } else {
            notification.classList.add('bg-electric-blue', 'text-white');
        }
        
        notification.innerHTML = `
            <div class="flex items-center">
                ${type === 'success' ? '<i class="fas fa-check-circle mr-2"></i>' : ''}
                ${type === 'error' ? '<i class="fas fa-exclamation-circle mr-2"></i>' : ''}
                ${type === 'warning' ? '<i class="fas fa-exclamation-triangle mr-2"></i>' : ''}
                ${type === 'info' ? '<i class="fas fa-info-circle mr-2"></i>' : ''}
                <span>${message}</span>
            </div>
        `;
        
        // Add to document
        document.body.appendChild(notification);
        
        // Auto remove after 1.5 seconds (faster than before)
        setTimeout(() => {
            if (notification.parentNode) {
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 200);
            }
        }, 1500);
    }
});
</script>
{% endblock %}